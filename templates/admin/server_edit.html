{% extends "base.html" %}

{% if is_new %}
    {% set page_title = "Добавление сервера" %}
{% else %}
    {% set page_title = "Редактирование сервера: " ~ server.name %}
{% endif %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<h1>{{ page_title }}</h1>

<div class="card">
    <form method="post">
        <label class="form-label">
            Имя сервера (например, F99)
            <input type="text" name="name" class="form-input"
                   value="{{ server.name if server else '' }}" required>
        </label>

        <label class="form-label">
            Host (IP или DNS)
            <input type="text" name="host" class="form-input"
                   value="{{ server.host if server else '' }}" required>
        </label>

        <label class="form-label">
            API Base URL (если есть)
            <input type="text" name="api_base_url" class="form-input"
                   value="{{ server.api_base_url if server else '' }}"
                   placeholder="Например, http://f99.local:5000/api">
        </label>

        <label class="form-label">
            Описание
            <textarea name="description" class="form-input" rows="3">{{ server.description if server else '' }}</textarea>
        </label>

        <label class="form-label form-label-inline">
            <input type="checkbox" name="is_active" {% if not server or server.is_active %}checked{% endif %}>
            Активен
        </label>

        <button type="submit" class="btn btn-primary">Сохранить</button>
        <a href="{{ url_for('admin.servers_list') }}" class="btn btn-outline">Отмена</a>
    </form>
</div>
{% endblock %}
